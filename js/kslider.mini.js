/*
* Author: Ganesh Kandu
* Mailto: kanduganesh@gmail.com
* Rotating Image Slider
*/
function slide(e,i){i%=360,m=Math.sin(i*Math.PI/180),w=Math.sin(i/2*Math.PI/180),m<0?q=-m:q=m,q=1-q,ksl=$("#slide ul li:nth-child("+e+")"),qsawa=100*w,next(e,"zIndex",qsawa)&&ksl.css("zIndex",Math.round(qsawa)),qsawa=width*(1-w)+m*height,next(e,"left",qsawa)&&ksl.css("left",Math.round(qsawa)+"px"),qsawa=w*width*2,next(e,"width",qsawa)&&ksl.css("width",Math.round(qsawa)+"px"),qsawa=w*height*2,next(e,"height",qsawa)&&ksl.css("height",Math.round(qsawa)+"px"),qsawa=valign*height*(1-w),next(e,"margin-top",qsawa)&&ksl.css("margin-top",Math.round(qsawa)),qsawa=m*distance,next(e,"margin-left",qsawa)&&ksl.css("margin-left",Math.round(qsawa))}function next(e,i,t){return"undefined"==typeof cssl[e][i]&&(cssl[e][i]=0),Math.pow(t-css[e][i]),css[e][i]=t,!0}function rotate(){for(a++,c=360/count,i=1;i<=count;i++)b=a+i*c,slide(i,b)}function time(){clearTimeout(1),0==action&&rotate(),timer=setTimeout(time,speed)}function init_kslide(){if(a=0,d=new Date,"undefined"==typeof speed)return alert("please define speed"),0;if("undefined"==typeof valign)return alert("please define valign"),0;if("undefined"==typeof width)return alert("please define width"),0;if("undefined"==typeof height)return alert("please define height"),0;if("undefined"==typeof distance)return alert("please define distance"),0;if(!valign.between(0,2))return alert(valign+" is invalid vertical alignment"),0;for(count=$("#Slide ul li").length,i=1;i<=count;i++)css[i]=new Array,cssl[i]=new Array;swidth=$("#slider").width(),left=swidth/2-width,$("#slider #cont").css("left",left),action=0,time(),$("#slide ul li").mousedown(function(){action=1}),$("#slide ul li").mouseup(function(){1==action&&(action=0)}),$("#slide ul li").mouseout(function(){1==action&&(action=0)}),$("#slide ul li img").on("click",function(){action=1,$("#zoomimg img").fadeIn("slow"),$("#slide").css("zIndex","101"),$("#zoomimg img").attr("src",$(this).attr("src"))}),$("#zoomimg img").on("click",function(){$("#zoomimg img").fadeOut("slow")})}var width,height,distance,speed,valign,a=0,lt=0,css=new Array,cssl=new Array,ksl;$(window).resize(function(){swidth=$("#slider").width(),left=swidth/2-width,$("#slider #cont").css("left",left)}),Number.prototype.between=function(e,i){return i>e?this>=e&&i>=this:this>=i&&e>=this};